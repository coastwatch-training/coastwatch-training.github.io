---
title: "Code Gallery"
---

This page lists CoastWatch code gallery tutorials.  
Click the **eye** icon to view the tutorial or **download** to get the source file.


```{python}

#| echo: false
#| warning: false
#| message: false

import pandas as pd
from IPython.display import HTML
from urllib.parse import quote

REPO_RAW_BASE = "https://github.com/madrichardson/CoastWatch-Training-Tutorials/raw/main/"
REPO_BLOB_BASE = "https://github.com/madrichardson/CoastWatch-Training-Tutorials/blob/main/"

df = pd.read_csv("code_gallery.csv", encoding="utf-8-sig").fillna("")

EYE_SVG = (
    '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" '
    'viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" '
    'stroke-linecap="round" stroke-linejoin="round">'
    '<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z"></path>'
    '<circle cx="12" cy="12" r="3"></circle>'
    '</svg>'
)

DOWNLOAD_SVG = (
    '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" '
    'viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" '
    'stroke-linecap="round" stroke-linejoin="round">'
    '<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>'
    '<path d="M7 10l5 5 5-5"></path>'
    '<path d="M12 15V3"></path>'
    '</svg>'
)

CSS_JS = """
<style>
.cg-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;z-index:999}
.cg-modal{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);
width:min(900px,92vw);max-height:85vh;overflow:auto;background:#fff;
border-radius:14px;padding:18px;display:none;z-index:1000;
box-shadow:0 20px 60px rgba(0,0,0,.25)}
.cg-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media(max-width:750px){.cg-grid{grid-template-columns:1fr}}
.cg-modal img{width:100%;border-radius:10px;border:1px solid #ddd}
.cg-close{border:0;background:#eee;padding:8px 10px;border-radius:10px;cursor:pointer}
.cg-btn{padding:8px 10px;border-radius:10px;border:1px solid #ccc;text-decoration:none}
</style>

<script>
function cgOpenModal(id){
  document.getElementById("cg-backdrop").style.display="block";
  document.getElementById(id).style.display="block";
}
function cgCloseModal(){
  document.getElementById("cg-backdrop").style.display="none";
  document.querySelectorAll(".cg-modal").forEach(m=>m.style.display="none");
}
document.addEventListener("keydown",e=>{if(e.key==="Escape")cgCloseModal();});
</script>

<div id="cg-backdrop" class="cg-backdrop" onclick="cgCloseModal()"></div>
"""

def modal_eye(modal_id):
    return (
        f'<a href="javascript:void(0)" onclick="cgOpenModal(\'{modal_id}\')" '
        f'class="cg-icon">{EYE_SVG}</a>'
    )


def download_icon(path):
    if not path:
        return "—"
    filename = path.split("/")[-1]
    url = f"{REPO_BLOB_BASE}{quote(path)}"
    return (
        f'<a href="{url}" class="cg-icon" aria-label="Open {filename} on GitHub" '
        f'target="_blank" rel="noopener">{DOWNLOAD_SVG}</a>'
    )


def render_carousel(img_cell, carousel_id):
    """
    img_cell: CSV value like 'a.png|b.png|c.png' OR 'a.png'
    carousel_id: unique DOM id for this carousel
    """
    if not img_cell:
        return "<div class='text-muted'>No preview image</div>"

    imgs = [x.strip() for x in str(img_cell).split("|") if x.strip()]
    if not imgs:
        return "<div class='text-muted'>No preview image</div>"

    # root-relative so it works regardless of page location
    img_tags = []
    for j, fn in enumerate(imgs):
        wrap_cls = "cg-slide active" if j == 0 else "cg-slide"
        img_tags.append(
          f"<div class='{wrap_cls} cg-figure'><img src='/tutorials/images/{fn}' loading='lazy'></div>")

    nav = ""
    if len(imgs) > 1:
        nav = (
            f"<div class='cg-nav'>"
            f"  <button class='cg-arrow' onclick=\"cgPrev('{carousel_id}')\">◀</button>"
            f"  <span class='cg-count'>1 / {len(imgs)}</span>"
            f"  <button class='cg-arrow' onclick=\"cgNext('{carousel_id}')\">▶</button>"
            f"</div>"
        )

    return (
        f"<div id='{carousel_id}' class='cg-carousel' data-idx='0'>"
        f"{''.join(img_tags)}"
        f"{nav}"
        f"</div>"
    )

rows = []
modals = []

for i, r in df.iterrows():
    mid = f"cg-modal-{i}"

    rows.append({
        "Title": r["title"],
        "Category": r["category"],
        "Preview": modal_eye(mid),
        "Python ↓": download_icon(r["py_download"]),
        "R ↓": download_icon(r["r_download"]),
    })

    modals.append(f"""
    <div id="{mid}" class="cg-modal">
      <h3>{r["title"]}</h3>
      <p>{r["description"]}</p>

      <div class="cg-grid">
        <div>
          <strong>Python output</strong>
          {render_carousel(r["py_img"], f"py-carousel-{i}")}
          <p><a class="cg-btn" href="{r["py_view"]}">View Python tutorial</a></p>
        </div>
        <div>
          <strong>R output</strong>
          {render_carousel(r["r_img"], f"r-carousel-{i}")}
          <p><a class="cg-btn" href="{r["r_view"]}">View R tutorial</a></p>
        </div>
      </div>

      <button class="cg-close" onclick="cgCloseModal()">Close</button>
    </div>
    """)

table = pd.DataFrame(rows).to_html(
    index=False,
    escape=False,
    classes=["code-gallery-table"]
)

HTML(CSS_JS + table + "".join(modals))

```


<script>
(function(){
  function openModal(id){
    const backdrop = document.getElementById("cg-backdrop");
    const modal = document.getElementById(id);
    if(!backdrop || !modal) return;
    backdrop.style.display = "block";
    modal.style.display = "block";
    modal.setAttribute("aria-hidden","false");
  }

  function closeModal(){
    const backdrop = document.getElementById("cg-backdrop");
    if(backdrop) backdrop.style.display = "none";
    document.querySelectorAll(".cg-modal").forEach(m => {
      m.style.display = "none";
      m.setAttribute("aria-hidden","true");
    });
  }

  // expose globally so inline onclick works
  window.cgOpenModal = openModal;
  window.cgCloseModal = closeModal;

  // close on ESC
  document.addEventListener("keydown", (e) => {
    if(e.key === "Escape") closeModal();
  });
})();
</script>

<script>
function cgShow(idx, id){
  const root = document.getElementById(id);
  if(!root) return;

  // IMPORTANT: target slides, not imgs
  const slides = root.querySelectorAll(".cg-slide");
  if(!slides.length) return;

  const n = slides.length;
  idx = ((idx % n) + n) % n;

  slides.forEach((el, j) => el.classList.toggle("active", j === idx));
  root.dataset.idx = String(idx);

  const counter = root.querySelector(".cg-count");
  if(counter) counter.textContent = (idx+1) + " / " + n;
}

function cgPrev(id){
  const root = document.getElementById(id);
  const idx = parseInt(root?.dataset?.idx || "0", 10);
  cgShow(idx - 1, id);
}

function cgNext(id){
  const root = document.getElementById(id);
  const idx = parseInt(root?.dataset?.idx || "0", 10);
  cgShow(idx + 1, id);
}
</script>

<div id="cg-backdrop" class="cg-modal-backdrop" onclick="cgCloseModal()" aria-hidden="true"></div>




