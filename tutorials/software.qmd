
---
title: "Software Code Gallery"
---

This page lists software-based tutorials.  
Click the **eye** icon to preview outputs, or **download** to open the source file on GitHub.

```{python}
#| echo: false
#| warning: false
#| message: false

import os
import pandas as pd
from IPython.display import HTML
from urllib.parse import quote

# -----------------------------
# GitHub repo config
# -----------------------------
REPO_BLOB_BASE = "https://github.com/madrichardson/CoastWatch-Training-Tutorials/blob/main/"
BACKGROUND_PAGE = "softwarebackground.html"

# -----------------------------
# Site path config (PREVIEWS)
# Gallery page location: softwaretutorials/
# Tutorials location:     tutorials/<slug>/
# -----------------------------
TUTORIALS_BASE = "tutorials"

# -----------------------------
# Load CSV
# -----------------------------
df = pd.read_csv("softwarecodegallery.csv", encoding="utf-8-sig").fillna("")

# -----------------------------
# Icons
# -----------------------------
EYE_SVG = (
    '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" '
    'viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" '
    'stroke-linecap="round" stroke-linejoin="round">'
    '<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z"></path>'
    '<circle cx="12" cy="12" r="3"></circle>'
    '</svg>'
)

DOWNLOAD_SVG = (
    '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" '
    'viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" '
    'stroke-linecap="round" stroke-linejoin="round">'
    '<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>'
    '<path d="M7 10l5 5 5-5"></path>'
    '<path d="M12 15V3"></path>'
    '</svg>'
)


INFO_SVG = (
    '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" '
    'viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" '
    'stroke-linecap="round" stroke-linejoin="round">'
    '<circle cx="12" cy="12" r="10"></circle>'
    '<path d="M12 16v-4"></path>'
    '<path d="M12 8h.01"></path>'
    '</svg>'
)

# -----------------------------
# Modal backdrop
# -----------------------------
JS_BACKDROP = """
<script>
function cgOpenModal(id){
  document.getElementById("cg-backdrop").style.display="block";
  document.getElementById(id).style.display="block";
}
function cgCloseModal(){
  document.getElementById("cg-backdrop").style.display="none";
  document.querySelectorAll(".cg-modal").forEach(m=>m.style.display="none");
}
document.addEventListener("keydown",e=>{if(e.key==="Escape")cgCloseModal();});
</script>

<div id="cg-backdrop" class="cg-backdrop" onclick="cgCloseModal()"></div>
"""

# -----------------------------
# Helpers
# -----------------------------
def modal_eye(modal_id):
    return (
        f'<a href="javascript:void(0)" onclick="cgOpenModal(\'{modal_id}\')" '
        f'class="cg-icon">{EYE_SVG}</a>'
    )

def download_icon(path):
    if not path:
        return "â€”"
    url = f"{REPO_BLOB_BASE}{quote(path)}"
    return (
        f'<a href="{url}" class="cg-icon" target="_blank" rel="noopener">'
        f'{DOWNLOAD_SVG}</a>'
    )

def render_carousel(img_cell, carousel_id, slug):
    if not img_cell:
        return "<div class='text-muted'>No preview image</div>"

    items = [x.strip() for x in str(img_cell).split("|") if x.strip()]
    if not items:
        return "<div class='text-muted'>No preview image</div>"

    slides = []
    for j, item in enumerate(items):
        if "::" in item:
            fn, caption = item.split("::", 1)
        else:
            fn, caption = item, ""

        cls = "cg-slide active" if j == 0 else "cg-slide"
        img_src = f"{slug}/images/{fn}"

        slides.append(f"""
          <div class="{cls} cg-figure">
            <div class="cg-imgframe">
              <img src="{img_src}" loading="lazy" data-caption="{caption}">
            </div>
            <div class="cg-caption">{caption}</div>
          </div>
        """)

    nav = ""
    if len(items) > 1:
        nav = (
            f"<div class='cg-nav'>"
            f"<button class='cg-arrow' onclick=\"cgPrev('{carousel_id}')\">â—€</button>"
            f"<span class='cg-count'>1 / {len(items)}</span>"
            f"<button class='cg-arrow' onclick=\"cgNext('{carousel_id}')\">â–¶</button>"
            f"</div>"
        )

    return f"<div id='{carousel_id}' class='cg-carousel' data-idx='0'>{''.join(slides)}{nav}</div>"


def info_icon(info_id):
    if not info_id:
        return "â€”"
    url = f"{BACKGROUND_PAGE}#{quote(str(info_id).strip())}"
    return f'<a href="{url}" class="cg-icon" aria-label="Background info">{INFO_SVG}</a>'


def resources_icon(slug):
    """
    Show a Resources link if tutorials/<slug>/resources/ exists.
    """
    if not slug:
        return "â€”"

    resources_path = f"{TUTORIALS_BASE}/{slug}/resources"

    if os.path.isdir(resources_path):
        return (
            f"<a href='{resources_path}/' class='cg-icon' "
            f"target='_blank' rel='noopener'>ðŸ“Ž</a>"
        )

    return "â€”"

# -----------------------------
# Build table + modals
# -----------------------------
table_rows = []
modals = []

for i, r in df.iterrows():
    mid   = f"cg-modal-{i}"
    title = str(r.get("title",""))
    desc  = str(r.get("description",""))
    slug   = str(r.get("slug","")).strip()
    info_id = str(r.get("info", "")).strip()

    table_rows.append(f"""
    <tr class="cg-row">
        <td>{title}</td>
        <td>{info_icon(info_id)}</td>
        <td>{modal_eye(mid)}</td>
        <td>{resources_icon(slug)}</td>
        <td>{download_icon(r.get("sw_download",""))}</td>
    </tr>
    """)
    carousel = render_carousel(r.get("sw_img",""), f"sw-carousel-{i}", slug)

    view_url = str(r.get("sw_view","")).strip()
    view_btn = f'<a class="cg-btn" href="{view_url}">View tutorial</a>' if view_url else ""

    modals.append(f"""
    <div id="{mid}" class="cg-modal">
      <h3>{title}</h3>
      <p>{desc}</p>

      <div class="cg-one cg-one-vertical">
        {carousel}
        <div class="cg-one-actions">{view_btn}</div>
      </div>

      <button class="cg-close" onclick="cgCloseModal()">Close</button>
    </div>
    """)


table = f"""
<div class="cg-table-wrap">
<table class="code-gallery-table">
  <colgroup>
    <col style="width: 44%;">
    <col style="width: 12%;">
    <col style="width: 12%;">
    <col style="width: 16%;">
    <col style="width: 16%;">
  </colgroup>
  <thead>
    <tr>
      <th>Title</th>
      <th>Info</th>
      <th>Preview</th>
      <th>Resource</th>
      <th>Download â†“</th>
    </tr>
  </thead>
  <tbody>
    {''.join(table_rows)}
  </tbody>
</table>
</div>
"""


HTML(JS_BACKDROP + table + "".join(modals))
```

<script>
function cgShow(idx, id) {
  const root = document.getElementById(id);
  const slides = root?.querySelectorAll(".cg-slide") || [];
  if (!slides.length) return;

  const n = slides.length;
  idx = ((idx % n) + n) % n;

  slides.forEach((el, j) =>
    el.classList.toggle("active", j === idx)
  );

  root.dataset.idx = idx;

  const counter = root.querySelector(".cg-count");
  if (counter) counter.textContent = (idx + 1) + " / " + n;
}

function cgPrev(id) {
  cgShow(
    (+document.getElementById(id).dataset.idx || 0) - 1,
    id
  );
}

function cgNext(id) {
  cgShow(
    (+document.getElementById(id).dataset.idx || 0) + 1,
    id
  );
}
</script>

<div id="cg-imglightbox" class="cg-imglightbox" aria-hidden="true">
  <button class="cg-imgclose" onclick="cgCloseImg()">âœ•</button>
  <img id="cg-imglightbox-img" alt="">
  <div id="cg-imglightbox-caption" class="cg-lightbox-caption"></div>
</div>

<script>
(function () {
  function openImg(src, caption) {
    const lightbox = document.getElementById("cg-imglightbox");
    const img = document.getElementById("cg-imglightbox-img");
    const cap = document.getElementById("cg-imglightbox-caption");

    img.src = src;
    cap.textContent = caption || "";
    lightbox.style.display = "block";
  }

  window.cgCloseImg = () => {
    document.getElementById("cg-imglightbox").style.display = "none";
  };

  document.addEventListener("click", (e) => {
    const img = e.target.closest(".cg-modal img");
    if (img) openImg(img.src, img.dataset.caption);
  });
})();
</script>
